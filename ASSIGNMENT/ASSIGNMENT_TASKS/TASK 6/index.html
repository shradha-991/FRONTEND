<!DOCTYPE html>
<html>
<head>
  <title>Fetch Users</title>
  <style>
    table { border-collapse: collapse; width: 60%; margin-top: 20px; }
    td, th { border: 1px solid black; padding: 8px; text-align: left; }
    #loader { display: none; font-weight: bold; }
  </style>
</head>
<body>

<h2>User Data</h2>

<button onclick="fetchUsers()">Refresh</button>
<p id="loader">Loading...</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>City</th>
    </tr>
  </thead>
  <tbody id="userTable"></tbody>
</table>

<script>
  let table = document.getElementById("userTable");
  let loader = document.getElementById("loader");

  async function fetchUsers(){
    loader.style.display = "block";
    table.innerHTML = "";
    let res = await fetch("https://jsonplaceholder.typicode.com/users");
    let data = await res.json();
    loader.style.display = "none";

    data.forEach(user=>{
      let tr = document.createElement("tr");
      let name = document.createElement("td");
      let email = document.createElement("td");
      let city = document.createElement("td");

      name.textContent = user.name;
      email.textContent = user.email;
      city.textContent = user.address.city;

      tr.appendChild(name);
      tr.appendChild(email);
      tr.appendChild(city);
      table.appendChild(tr);
    });
  }

  fetchUsers();
</script>

</body>
</html>